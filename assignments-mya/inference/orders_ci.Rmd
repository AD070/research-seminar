---
title: "Задание на расчет доверительных интервалов среднего"
author: "Морозова Ю.А."
date: "17.01.2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE)
options(digits = 4) #выводить 4 знака в дробной части
```

```{r Загрузка пакетов}
suppressMessages(library(tidyverse))
suppressMessages(library(ggplot2))
suppressMessages(library(readxl))
```

#Задание
Набор данных `data/orders.xlsx` содержит информацию о деталях заказов клиентов международной торговой компании.
Необходимо рассчитать среднюю стоимость заказа и доверительные интервалы при заданном уровне значимости.

Загрузите данные файла `orders.xlsx` в переменную `orders`.

```{r Загрузка данных}
orders <- ...
```

Изучите структуру набора данных.

```{r Обзор данных}

```

Изучите распределение переменной `Sales`. Есть ли в ней пустые значения? Если есть, то удалите их.

```{r Исследование переменной Sales}

```


Сгруппируйте строки по полям `Market` и `Order ID` и посчитайте для каждого заказа суммарную стоимость.

```{r Расчет суммарной стоимости заказа}
order_sums <- orders %>% group_by(Market, `Order ID`) %>%
  summarize(order_sum = sum(Sales))
```

Рассмотрим данный набор данных как генеральную совокупность. Рассчитайте параметры генеральной совокупности: среднуюю стоимость заказа и стандартное отклонение.

```{r Параметры генеральной совокупности}
pop_mean <- ...
pop_sd <- ...
```


Установите номер генератора случайных чисел.

```{r Установка номера генератора случайных чисел}
set.seed(введите здесь любое число)
```

Создайте выборку из 20 заказов и сохраните ее в переменную orders20.

```{r Создание выборки}
orders20 <- ...

```

Рассчитайте средную выборочную стоимость заказа и стандартное отклонение.

```{r Выборочное среднее и стандартное отклонение}
sample_mean <- ...
sample_sd <- ...
```


Посчитайте стандартную ошибку выборочного среднего.

```{r Стандартная ошибка}
sample_se <- ...
```

Рассчитайте половину 90% доверительного интервала на основе выборочного среднего и стандартного отклонения.

```{r 90% полуинтервал}
delta <- ...
```

Рассчитайте верхнюю и нижнюю границы 90% доверительного интервала для среднего в генеральной совокупности. 

```{r Границы доверительного интервала}
lci <- ...
uci <- ...
```


Постройте график полученного доверительного интервала с помощью ggplot2:

```{r Построение графика}

```



 

