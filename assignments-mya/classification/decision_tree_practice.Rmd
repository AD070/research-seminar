---
title: "Построение деревьев решений"
author: "Здесь должна быть ваша фамилия"
date: '20 апреля 2018 г '
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r, warning=FALSE, message=FALSE}
library(tidyverse) # Трансформация и визуализация данных 
library(scales) # Процентный формат для осей ggplot
library(rpart) # Деревья в R: recursive partitioning
library(C50) # Деревья в R: C5.0
library(party) # Деревья в R: conditional inference
library(rpart.plot) # Визуализация деревьев
library(partykit) # Визуализация деревьев
#library(rattle) 
library(mlr) # Фреймворк для машинного обучения, здесь используется для подсчета показателей ошибки

```

#Введение

В файле `tree_credit.sav` содержится статистическая информация о заемщиках банка с указанием их демографических характеристик и признака, был ли возвращен заем. Необходимо построить дерево решений для определения, вернет ли клиент заем.


```{r Загрузка данных}
credit <- read_sav("data/tree_credit.sav")
str(credit)

```

#Задания

1) Проведите разведочный анализ и выберите предикторы, с помощью которых можно прогнозировать возврат займа клиентом.

2) Разделите выборку на обучающую и тестовую в соотношении 7:3.

3) Постройте на обучающей выборке дерево решений для определения, вернет ли клиент займ. Интерпретируйте полученную модель.

4) Оцените точность полученной модели на обучающей выборке и тестовой выборке.




